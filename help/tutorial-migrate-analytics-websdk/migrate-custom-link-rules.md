---
title: 移轉自訂連結規則
description: 瞭解如何移轉傳入自訂連結點選（而非頁面檢視）的規則。
solution: Data Collection, Analytics
feature: Web SDK
jira: KT-16765
source-git-commit: 7ae56d997884cf1558e72c0ad553df1c5d43c081
workflow-type: tm+mt
source-wordcount: '970'
ht-degree: 0%

---


# 移轉自訂連結規則

在本練習中，您將瞭解如何移轉自訂連結點選（而非頁面檢視）中傳送的規則。

## 概觀

當您使用Analytics擴充功能或AppMeasurement程式碼傳送自訂連結點選時，當您設定&#x200B;**傳送信標**&#x200B;動作時，也會選擇您要傳送頁面檢視點選或自訂連結點選，而如果您選擇自訂連結點選，則會要求您提供該點選的&#x200B;**連結名稱**&#x200B;和&#x200B;**連結型別**。 如果您未傳送連結名稱和型別以外的任何其他變數資料，您就不需要有其他設定變數（prop、eVar和事件）的動作。
因此，當您移轉屬於自訂連結規則的規則時，規則中將有&#x200B;**以下兩個**&#x200B;情況之一：

1. 現有規則將包含&#x200B;**Adobe Analytics - Set Variables**&#x200B;動作，此動作會設定prop、eVars、事件等，然後包含&#x200B;**Adobe Analytics - Send Beacon**&#x200B;動作，此動作會將點選設定為自訂連結點選(A.K.A. an s.tl()點選)、設定連結名稱和型別，並傳送資料。
   1. 在此情況下，它也可能包含名為&#x200B;**Adobe Analytics - Clear Variables**&#x200B;的最終動作，以便在資料傳送至Adobe伺服器後，從變數中「取零」值。
1. 現有規則將僅包含&#x200B;**Adobe Analytics - Send Beacon**&#x200B;動作，此動作會將點選設定為自訂連結點選、設定連結名稱和型別，以及傳送資料。

### 重要變更

當您將Adobe Analytics實作移轉至Web SDK時，這件事很重要的原因是：
連結名稱和型別的設定（點選必須是自訂連結點選）不在「傳送等同信標」動作（傳送事件）中。 而是在「設定等同變數」動作（更新變數）中設定連結名稱和型別。
其結果是，無論您是否具備上述案例1或案例2，您最終都需要執行更新變數動作以及傳送事件動作。

以下為實作中這項差異的視覺化表現。

![移轉自訂連結規則](assets/migrate-custom-link-rule-2.jpg)

## 移轉步驟

開啟您的規則自訂連結規則，並識別它是否類似於上方的案例1或案例2。
**如果規則類似案例1：**

1. 開啟「設定變數」動作，並寫下該動作中正在設定的所有變數（prop、eVar、events等） （例如在上圖中，正在設定event10）。
1. 開啟「傳送信標」動作，確認其已設定為傳送s.tl()點選。 記下「連結型別」和「連結名稱」的值。
1. 在自訂連結規則的「動作」區段中，按一下加號圖示以新增另一個規則。

   ![新增動作](assets/add-new-action-3.jpg)

1. 設定動作
   1. 將&#x200B;**擴充功能**&#x200B;設定為Adobe Experience Platform Web SDK
   1. 將&#x200B;**動作型別**&#x200B;設定為更新變數
   1. 選取&#x200B;**Analytics**&#x200B;物件
   1. 從Analytics「設定變數」動作（此範例中為event10）設定prop、eVar和event

      ![設定要移轉的變數](assets/set-variables-to-migrate.jpg)

   1. 在同一規則中，向下捲動至&#x200B;**其他屬性**&#x200B;下拉式欄位，然後新增&#x200B;**連結名稱**&#x200B;欄位，將其設定為您從「傳送信標」規則中拉取的值。 在下圖中，範例是將名稱設定為字串值「menu click」。
   1. 同時從相同下拉式清單新增&#x200B;**連結型別**&#x200B;欄位，新增「o」作為值（假設您在「傳送信標」動作中的連結型別為「自訂連結」）。 這將會傳入連結型別「其他」，這相當於自訂連結。 如果您的連結型別是下載連結，則在此新連結型別欄位中為值選擇「d」，如果您的連結型別是退出連結，則在此新連結型別欄位中為值選擇「e」。

      ![連結名稱和型別](assets/link-name-and-type.jpg)

1. 在[其他]屬性下方，您會看到標示為&#x200B;**清除現有值**&#x200B;的核取方塊。 如果現有規則有&#x200B;**Adobe Analytics - Clear Variables動作** （如上述步驟3所示），您只需要核取此方塊即可，而且不需要為Web SDK新增清除變數動作。

   ![清除變數](assets/clear-existing-value.jpg)

1. 按一下加號圖示以新增其他動作。
1. 設定您的傳送事件動作
   1. 將&#x200B;**擴充功能**&#x200B;設定為Adobe Experience Platform Web SDK
   1. 將&#x200B;**動作型別**&#x200B;設定為已傳送的事件
   1. 按一下資料元素圖示，然後選擇&#x200B;**頁面檢視資料變數**&#x200B;資料元素

   ![設定傳送事件](assets/configure-send-event.jpg)

1. **保留變更**，**儲存至程式庫**，您就可以從相同頁面&#x200B;**建置**&#x200B;程式庫，因為我們已設定工作程式庫。

## 繪製重要的移轉結論

* 在本課程中，您已瞭解如何移轉自訂連結規則。
* 在[移轉預設頁面載入規則](migrate-your-default-page-load-rule.md)練習中，您已瞭解如何移轉同時設定變數以及在Analytics信標中傳送的規則。
* 在[移轉其他頁面規則](migrate-additional-page-rules.md)課程中，您已瞭解如何移轉設定變數但不將信標傳送至Adobe Analytics的規則。

如您所想，在許多不同的規則中，都可以使用相同的方法，將Analytics擴充功能移轉至Web SDK。
在大多數情況下，您只是在&#x200B;**更新規則中的動作**。 您不會變更事件或觸發事件的條件。 只有在規則引發時，您才會變更動作區段中發生的動作。
大部分的規則（如果不是全部的話）將歸入這些類別。 如果您有未移轉的規則，請考慮移轉動作的相同正規化，而非觸發規則的原因。
